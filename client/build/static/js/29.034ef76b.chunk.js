(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[29],{342:function(e,a,s){"use strict";s(2);var t=s(7),n=s(12),r=s(18),c=(s(350),s(1));a.a=function(){var e=Object(n.c)(r.o);return Object(c.jsxs)("ul",{className:"dashboard-main-nav",children:[Object(c.jsx)("li",{className:"dashboard-nav-list-item",children:Object(c.jsx)(t.c,{to:"/".concat(e.user.first_name,".").concat(e.user.last_name,"/dashboard"),activeClassName:"selected",className:"dashboard-nav-link",children:Object(c.jsx)("span",{className:"label-medium",children:"Dashboard"})})}),Object(c.jsx)("li",{className:"dashboard-nav-list-item",children:Object(c.jsx)(t.c,{to:"/".concat(e.user.first_name,".").concat(e.user.last_name,"/enrollment"),activeClassName:"selected",className:"dashboard-nav-link",children:Object(c.jsx)("span",{className:"label-medium",children:"Enrollment"})})}),Object(c.jsx)("li",{className:"dashboard-nav-list-item",children:Object(c.jsx)(t.c,{to:"/".concat(e.user.first_name,".").concat(e.user.last_name,"/information"),activeClassName:"selected",className:"dashboard-nav-link",children:Object(c.jsx)("span",{className:"label-medium",children:"Information"})})}),Object(c.jsx)("li",{className:"dashboard-nav-list-item",children:Object(c.jsx)(t.c,{to:"/".concat(e.user.first_name,".").concat(e.user.last_name,"/kins"),activeClassName:"selected",className:"dashboard-nav-link",children:Object(c.jsx)("span",{className:"label-medium",children:"Student Kins"})})}),Object(c.jsx)("li",{className:"dashboard-nav-list-item",children:Object(c.jsx)(t.c,{to:"/".concat(e.user.first_name,".").concat(e.user.last_name,"/update-details"),activeClassName:"selected",className:"dashboard-nav-link",children:Object(c.jsx)("span",{className:"label-medium",children:"Update account"})})}),Object(c.jsx)("li",{className:"dashboard-nav-list-item",children:Object(c.jsx)(t.c,{to:"/".concat(e.user.first_name,".").concat(e.user.last_name,"/update-password"),activeClassName:"selected",className:"dashboard-nav-link",children:Object(c.jsx)("span",{className:"label-medium",children:"Update password"})})})]})}},350:function(e,a,s){},533:function(e,a,s){},574:function(e,a,s){"use strict";s.r(a);var t=s(2),n=s(53),r=s(98),c=s(99),l=s(10),i=s(14),o=s(342),d=s(35),m=s(40),b=s(45),j=s(21),u=s.n(j),h=s(65),p=s(101),O=s(12),x=s(18),f=(s(533),s(1));var v=function(){var e=Object(t.useState)({}),a=Object(l.a)(e,2),s=a[0],r=a[1],c=Object(t.useState)(!0),j=Object(l.a)(c,2),v=j[0],N=j[1],g=Object(t.useState)(""),_=Object(l.a)(g,2),C=_[0],k=_[1],w=Object(t.useRef)(null),y=Object(O.c)(x.o),A=Object(i.i)().id,S=Object(i.g)();Object(t.useEffect)((function(){u.a.get("/api/v1/users/kins/".concat(A),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",withCredentials:!0,credentials:"include"}}).then((function(e){var a=e.data.kin;r(a),N(!1),k("")})).catch((function(e){N(!1);var a=e.response.data.errors?e.response.data.errors[0].msg:e.response.data.message;k(a),S.push("/".concat(y.user.first_name,".").concat(y.user.last_name,"/kins"))}))}),[S,A,y]);var T=Object(h.a)({initialValues:{first_name:s?s.first_name:"",last_name:s?s.last_name:"",email:s?s.email:"",relation:s?s.relation:"",adress:s?s.adress:"",phone_number:s?s.phone_number:""},validateOnBlur:!0,enableReinitialize:!0,onSubmit:function(e,a){var s=a.resetForm;window.scrollTo(0,w.current.offsetTop);u.a.patch("/api/v1/users/kins/".concat(A),e,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",withCredentials:!0,credentials:"include"}}).then((function(e){200===e.status||201===e.status?(s(),k(""),S.push("/".concat(y.user.first_name,".").concat(y.user.last_name,"/kins"))):k("There is an error, please try again")})).catch((function(e){var a=e.response.data.errors?e.response.data.errors[0].msg:e.response.data.message;k(a)}))},validationSchema:p.a});return v?Object(f.jsx)(n.a,{}):Object(f.jsx)("section",{className:"dashboard-kin-update",children:Object(f.jsxs)("div",{className:"dashboard-kin-update-inner",children:[Object(f.jsx)(o.a,{}),Object(f.jsxs)("div",{className:"dashboard-form-block",ref:w,children:[Object(f.jsxs)("div",{className:"dashboard-form-block-heading-wrapper",children:[Object(f.jsxs)("h3",{className:"dashboard-form-title heading-three",children:["Actualizeaza persoana de contact: ",s&&"".concat(s.first_name," ").concat(s.last_name)]}),C?Object(f.jsx)(m.a,{children:C}):null]}),Object(f.jsxs)("form",{className:"dashboard-kin-update-form",method:"POST",onSubmit:T.handleSubmit,children:[Object(f.jsxs)("div",{className:"form-block",children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"firstName",className:"form-group-label label",children:"Prenumele persoanei de contact.*"}),Object(f.jsx)("input",{type:"text",id:"firstName",className:"form-group-input",name:"first_name",value:T.values.first_name,onChange:T.handleChange}),T.errors.first_name&&Object(f.jsx)(d.a,{children:T.errors.first_name})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"lastName",className:"form-group-label label",children:"Numele persoanei de contact.*"}),Object(f.jsx)("input",{type:"text",id:"lastName",className:"form-group-input",name:"last_name",value:T.values.last_name,onChange:T.handleChange}),T.errors.last_name&&Object(f.jsx)(d.a,{children:T.errors.last_name})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"email",className:"form-group-label label",children:"Email-ul persoanei de contact.*"}),Object(f.jsx)("input",{type:"email",id:"email",className:"form-group-input",name:"email",value:T.values.email,onChange:T.handleChange}),T.errors.email&&Object(f.jsx)(d.a,{children:T.errors.email})]})]}),Object(f.jsxs)("div",{className:"form-block",children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"relation",className:"form-group-label label",children:"Tipul relatiei.*"}),Object(f.jsx)("input",{type:"text",id:"relation",className:"form-group-input",name:"relation",value:T.values.relation,onChange:T.handleChange}),T.errors.relation&&Object(f.jsx)(d.a,{children:T.errors.relation})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"adress",className:"form-group-label label",children:"Adresa persoanei de contact.*"}),Object(f.jsx)("input",{type:"text",id:"adress",className:"form-group-input",name:"adress",value:T.values.adress,onChange:T.handleChange}),T.errors.adress&&Object(f.jsx)(d.a,{children:T.errors.adress})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"phone_number",className:"form-group-label label",children:"Numarul de telefon.*"}),Object(f.jsx)("input",{type:"text",id:"phone_number",className:"form-group-input",name:"phone_number",value:T.values.phone_number,onChange:T.handleChange}),T.errors.phone_number&&Object(f.jsx)(d.a,{children:T.errors.phone_number})]})]}),Object(f.jsx)(b.a,{type:"submit",textLabel:"Actualizeaza pesoana de contact"}),Object(f.jsx)(b.a,{type:"button",onClick:function(){u.a.delete("/api/v1/users/kins/".concat(A),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",withCredentials:!0,credentials:"include"}}).then((function(e){204===e.status?(S.push("/".concat(y.user.first_name,".").concat(y.user.last_name,"/kins")),window.location.reload()):k("There is an error, your kin relation can not be deleted. Please try again")})).catch((function(e){var a=e.response.data.errors[0].msg,s=e.response.message;k(s||a)}))},textLabel:"Sterge pesoana de contact"})]})]})]})})},N=s(96),g=s(97),_={isLink:null,subtitle:"Actualizarea persoanei de contact"};a.default=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(n.a,{}),Object(f.jsx)(r.a,{}),Object(f.jsxs)("main",{className:"page-content",children:[Object(f.jsx)(c.a,{sectionData:_}),Object(f.jsx)(v,{}),Object(f.jsx)(N.a,{})]}),Object(f.jsx)(g.a,{})]})}}}]);
//# sourceMappingURL=29.034ef76b.chunk.js.map