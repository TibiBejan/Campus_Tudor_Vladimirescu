{"version":3,"sources":["components/StudentDashboard/StudentDashboardNav/StudentDashboardNav.js","components/StudentDashboard/StudentDashboardPwd/StudentDashboardPwd.js","pages/StudentDashboardPwdUpdate.js"],"names":["StudentDashboardNav","userState","useSelector","userSelector","className","to","user","first_name","last_name","activeClassName","StudentDashboardPwd","dispatch","useDispatch","useState","formError","setFormError","visibleCurrentPassword","setVisibleCurrentPassword","visiblePassword","setVisiblePassword","visibleConfirmPassword","setVisibleConfirmPassword","blockRef","useRef","onSubmit","values","a","resetForm","window","scrollTo","current","offsetTop","reqConfig","headers","withCredentials","credentials","body","requestUpdatePwd","axios","patch","then","response","status","userData","data","receiveUpdatePwd","catch","err","message","errors","msg","updatePwdError","formik","useFormik","initialValues","password_confirm","password_new","password_new_confirm","validateOnBlur","validationSchema","updatePwdSchema","ref","GeneralErrorMessage","method","handleSubmit","htmlFor","type","id","name","value","onChange","handleChange","onClick","prevState","Provider","size","color","ErrorMessage","ButtonPrimary","textLabel","bannerData","isLink","subtitle","StudentDashboardPwdUpdate","InitialTransition","Header","AuthBanner","sectionData","StatsSection","Footer"],"mappings":"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","file":"static/js/30.7c53c128.chunk.js","sourcesContent":["import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n// REDUX\r\nimport { useSelector } from 'react-redux';\r\nimport { userSelector } from '../../../redux/userSlice';\r\n\r\nimport './StudentDashboardNav.scss';\r\n\r\nfunction StudentDashboardNav() {\r\n\r\n    const userState = useSelector(userSelector);\r\n\r\n    return (\r\n        <ul className=\"dashboard-main-nav\">\r\n            <li className=\"dashboard-nav-list-item\">\r\n                <NavLink \r\n                    to={`/${userState.user.first_name}.${userState.user.last_name}/dashboard`} \r\n                    activeClassName=\"selected\" \r\n                    className=\"dashboard-nav-link\"\r\n                >\r\n                    <span className=\"label-medium\">Dashboard</span>\r\n                </NavLink>\r\n            </li>\r\n            <li className=\"dashboard-nav-list-item\">\r\n                <NavLink \r\n                    to={`/${userState.user.first_name}.${userState.user.last_name}/enrollment`} \r\n                    activeClassName=\"selected\" \r\n                    className=\"dashboard-nav-link\"\r\n                >\r\n                    <span className=\"label-medium\">Enrollment</span>\r\n                </NavLink>\r\n            </li>\r\n            <li className=\"dashboard-nav-list-item\">\r\n                <NavLink \r\n                    to={`/${userState.user.first_name}.${userState.user.last_name}/information`} \r\n                    activeClassName=\"selected\" \r\n                    className=\"dashboard-nav-link\"\r\n                >\r\n                    <span className=\"label-medium\">Information</span>\r\n                </NavLink>\r\n            </li>\r\n            <li className=\"dashboard-nav-list-item\">\r\n                <NavLink \r\n                    to={`/${userState.user.first_name}.${userState.user.last_name}/kins`} \r\n                    activeClassName=\"selected\" \r\n                    className=\"dashboard-nav-link\"\r\n                >\r\n                    <span className=\"label-medium\">Student Kins</span>\r\n                </NavLink>\r\n            </li>\r\n            <li className=\"dashboard-nav-list-item\">\r\n                <NavLink \r\n                    to={`/${userState.user.first_name}.${userState.user.last_name}/update-details`} \r\n                    activeClassName=\"selected\" \r\n                    className=\"dashboard-nav-link\"\r\n                >\r\n                    <span className=\"label-medium\">Update account</span>\r\n                </NavLink>\r\n            </li>\r\n            <li className=\"dashboard-nav-list-item\">\r\n                <NavLink \r\n                    to={`/${userState.user.first_name}.${userState.user.last_name}/update-password`} \r\n                    activeClassName=\"selected\" \r\n                    className=\"dashboard-nav-link\"\r\n                >\r\n                    <span className=\"label-medium\">Update password</span>\r\n                </NavLink>\r\n            </li>\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default StudentDashboardNav;\r\n","import React, { useState, useRef } from 'react';\r\nimport StudentDashboardNav from '../StudentDashboardNav/StudentDashboardNav';\r\nimport ErrorMessageEl from '../../SharedComponents/FormErrorMessage/ErrorMessage';\r\nimport GeneralErrorMessage from '../../SharedComponents/GeneralErrorMessage/GeneralErrorMessage';\r\nimport ButtonPrimary from '../../SharedComponents/Button/ButtonPrimary';\r\nimport { IconContext } from 'react-icons';\r\nimport { ImEye } from \"react-icons/im\";\r\nimport axios from 'axios';\r\n\r\nimport { useFormik } from 'formik';\r\nimport { updatePwdSchema } from '../../../validation/UserSchema';\r\n\r\n// REUDX\r\nimport { useDispatch } from 'react-redux';\r\nimport { requestUpdatePwd, receiveUpdatePwd, updatePwdError } from '../../../redux/userSlice';\r\nimport './StudentDashboardPwd.scss';\r\n\r\nfunction StudentDashboardPwd() {\r\n\r\n    // GLOBAL STATE SLICE\r\n    const dispatch = useDispatch();\r\n    // STATE\r\n    const [ formError, setFormError ] = useState('');\r\n    const [ visibleCurrentPassword, setVisibleCurrentPassword ] = useState(false);\r\n    const [ visiblePassword, setVisiblePassword ] = useState(false);\r\n    const [ visibleConfirmPassword, setVisibleConfirmPassword ] = useState(false);\r\n    // REF\r\n    const blockRef = useRef(null)\r\n\r\n    // RESET SCROLL POS\r\n    const executeScroll = () => window.scrollTo(0, blockRef.current.offsetTop);  \r\n\r\n    const onSubmit = async (values, { resetForm }) => {\r\n        // RESET SCROLL POSITION\r\n        executeScroll();\r\n\r\n        const reqConfig = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                \"Access-Control-Allow-Origin\": \"*\",\r\n                withCredentials: true,\r\n                credentials: 'include'\r\n            },   \r\n        }\r\n\r\n        const body = {...values};\r\n\r\n        // INIT REQ\r\n        dispatch(requestUpdatePwd());\r\n\r\n        axios.patch(`/api/v1/users/updateMyPassword`,  body, reqConfig).then((response) => {\r\n            if(response.status === 200 || response.status === 201) {\r\n                const { userData } = response.data;\r\n                dispatch(receiveUpdatePwd(userData));\r\n                resetForm();\r\n                setFormError('');\r\n            } else {\r\n                setFormError('There is an error, please try again');\r\n            }\r\n        }).catch(err => {\r\n            const message = err.response.data.errors ? err.response.data.errors[0].msg : err.response.data.message;\r\n            setFormError(message);\r\n            dispatch(updatePwdError(message));\r\n        });\r\n    }\r\n\r\n    // FORM HANDLER\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            password_confirm: '',\r\n            password_new: '',\r\n            password_new_confirm: ''\r\n        },\r\n        validateOnBlur: true,\r\n        onSubmit,\r\n        validationSchema: updatePwdSchema\r\n    });\r\n\r\n    return (\r\n        <section className=\"dashboard-password-update\">\r\n            <div className=\"dashboard-password-update-inner\">\r\n                <StudentDashboardNav />\r\n                <div className=\"dashboard-form-block\" ref={blockRef}>\r\n                    <div className=\"dashboard-form-block-heading-wrapper\">\r\n                        <h3 className=\"dashboard-form-title heading-three\">Update password</h3>    \r\n                        {formError ? <GeneralErrorMessage>{formError}</GeneralErrorMessage> : null }    \r\n                    </div>\r\n                    <form className=\"dashboard-password-update-form\" method=\"POST\" onSubmit={ formik.handleSubmit }>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"password_confirm\" className=\"form-group-label label\">Current Password*</label>\r\n                            <div className=\"input-wrapper\">\r\n                                <input \r\n                                    type={visibleCurrentPassword ? \"text\" : \"password\"}\r\n                                    id=\"password_confirm\" \r\n                                    className=\"form-group-input\"\r\n                                    name=\"password_confirm\"\r\n                                    value={formik.values.password_confirm}\r\n                                    onChange={formik.handleChange}\r\n                                />\r\n                                <button type=\"button\" onClick={() => setVisibleCurrentPassword(prevState => !prevState)} className=\"show-password-button\">\r\n                                    <IconContext.Provider value={{size: '30px', color: visibleCurrentPassword ? '#464646' : '#fafafa'}}>\r\n                                        <ImEye />\r\n                                    </IconContext.Provider>\r\n                                </button>\r\n                            </div>\r\n                            {formik.errors.password_confirm && <ErrorMessageEl>{formik.errors.password_confirm}</ErrorMessageEl>}  \r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"password_new\" className=\"form-group-label label\">New Password*</label>\r\n                            <div className=\"input-wrapper\">\r\n                                <input \r\n                                    type={visiblePassword ? \"text\" : \"password\"}\r\n                                    id=\"password_new\" \r\n                                    className=\"form-group-input\"\r\n                                    name=\"password_new\"\r\n                                    value={formik.values.password_new}\r\n                                    onChange={formik.handleChange}\r\n                                />\r\n                                <button type=\"button\" onClick={() => setVisiblePassword(prevState => !prevState)} className=\"show-password-button\">\r\n                                    <IconContext.Provider value={{size: '30px', color: visiblePassword ? '#464646' : '#fafafa'}}>\r\n                                        <ImEye />\r\n                                    </IconContext.Provider>\r\n                                </button>\r\n                            </div>\r\n                            {formik.errors.password_new && <ErrorMessageEl>{formik.errors.password_new}</ErrorMessageEl>}  \r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"password_new_confirm\" className=\"form-group-label label\">Confirm your new password*</label>\r\n                            <div className=\"input-wrapper\">\r\n                                <input \r\n                                    type={visibleConfirmPassword ? \"text\" : \"password\"}\r\n                                    id=\"password_new_confirm\" \r\n                                    className=\"form-group-input\"\r\n                                    name=\"password_new_confirm\"\r\n                                    value={formik.values.password_new_confirm}\r\n                                    onChange={formik.handleChange}\r\n                                />\r\n                                <button type=\"button\" onClick={() => setVisibleConfirmPassword(prevState => !prevState)} className=\"show-password-button\">\r\n                                    <IconContext.Provider value={{size: '30px', color: visibleConfirmPassword ? '#464646' : '#fafafa'}}>\r\n                                        <ImEye />\r\n                                    </IconContext.Provider>\r\n                                </button>\r\n                            </div>\r\n                            {formik.errors.password_new_confirm && <ErrorMessageEl>{formik.errors.password_new_confirm}</ErrorMessageEl>}  \r\n                        </div>\r\n                        <ButtonPrimary type=\"submit\" textLabel=\"Actualizeaza parola\" />\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default StudentDashboardPwd;\r\n","import React from 'react';\r\nimport InitialTransition from '../utils/InitialTransition/InitialTransition';\r\n\r\n// COMPONENTS\r\nimport Header from '../components/LayoutComponents/Header/Header';\r\nimport AuthBanner from '../components/SharedComponents/AuthBanner/AuthBanner';\r\nimport StudentDashboardPwd from '../components/StudentDashboard/StudentDashboardPwd/StudentDashboardPwd';\r\nimport StatsSection from '../components/SharedComponents/StatsSection/StatsSection';\r\nimport Footer from '../components/LayoutComponents/Footer/Footer';\r\n\r\n// DATA\r\nconst bannerData = {\r\n    isLink: null,\r\n    subtitle: \"Contul meu\"\r\n}\r\n\r\nfunction StudentDashboardPwdUpdate() {\r\n    return (\r\n        <>\r\n            <InitialTransition />\r\n            <Header />\r\n            <main className=\"page-content\">\r\n                <AuthBanner sectionData={ bannerData }/>    \r\n                <StudentDashboardPwd />\r\n                <StatsSection />\r\n            </main>\r\n            <Footer /> \r\n        </>\r\n    )\r\n}\r\n\r\nexport default StudentDashboardPwdUpdate;\r\n"],"sourceRoot":""}