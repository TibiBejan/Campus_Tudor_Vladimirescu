(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[20],{342:function(e,a,s){"use strict";s(2);var t=s(7),n=s(12),c=s(18),r=(s(350),s(1));a.a=function(){var e=Object(n.c)(c.o);return Object(r.jsxs)("ul",{className:"dashboard-main-nav",children:[Object(r.jsx)("li",{className:"dashboard-nav-list-item",children:Object(r.jsx)(t.c,{to:"/".concat(e.user.first_name,".").concat(e.user.last_name,"/dashboard"),activeClassName:"selected",className:"dashboard-nav-link",children:Object(r.jsx)("span",{className:"label-medium",children:"Dashboard"})})}),Object(r.jsx)("li",{className:"dashboard-nav-list-item",children:Object(r.jsx)(t.c,{to:"/".concat(e.user.first_name,".").concat(e.user.last_name,"/enrollment"),activeClassName:"selected",className:"dashboard-nav-link",children:Object(r.jsx)("span",{className:"label-medium",children:"Enrollment"})})}),Object(r.jsx)("li",{className:"dashboard-nav-list-item",children:Object(r.jsx)(t.c,{to:"/".concat(e.user.first_name,".").concat(e.user.last_name,"/information"),activeClassName:"selected",className:"dashboard-nav-link",children:Object(r.jsx)("span",{className:"label-medium",children:"Information"})})}),Object(r.jsx)("li",{className:"dashboard-nav-list-item",children:Object(r.jsx)(t.c,{to:"/".concat(e.user.first_name,".").concat(e.user.last_name,"/kins"),activeClassName:"selected",className:"dashboard-nav-link",children:Object(r.jsx)("span",{className:"label-medium",children:"Student Kins"})})}),Object(r.jsx)("li",{className:"dashboard-nav-list-item",children:Object(r.jsx)(t.c,{to:"/".concat(e.user.first_name,".").concat(e.user.last_name,"/update-details"),activeClassName:"selected",className:"dashboard-nav-link",children:Object(r.jsx)("span",{className:"label-medium",children:"Update account"})})}),Object(r.jsx)("li",{className:"dashboard-nav-list-item",children:Object(r.jsx)(t.c,{to:"/".concat(e.user.first_name,".").concat(e.user.last_name,"/update-password"),activeClassName:"selected",className:"dashboard-nav-link",children:Object(r.jsx)("span",{className:"label-medium",children:"Update password"})})})]})}},350:function(e,a,s){},530:function(e,a,s){},531:function(e,a,s){},532:function(e,a,s){},551:function(e,a,s){"use strict";s.r(a);var t=s(2),n=s(53),c=s(98),r=s(99),l=s(10),i=s(342),o=s(35),d=s(0),u=s(26),b=s(40),j=s(45),m=s(7),h=s(12),p=s(18),O=s(106),x=s(58),f=(s(95),s(530),s(1));var v=Object(x.trackWindowScroll)((function(e){var a=e.cardData,s=e.scrollPosition,t=Object(h.c)(p.o);return Object(f.jsx)(m.b,{to:"/".concat(t.user.first_name,".").concat(t.user.last_name,"/kins/").concat(a.uuid),className:"kin-card-link-wrapper",children:Object(f.jsxs)("div",{className:"kin-card",children:[Object(f.jsx)("div",{className:"kin-card-showcase",children:Object(f.jsx)("div",{className:"card-showcase-profile-image",children:Object(f.jsx)(x.LazyLoadImage,{alt:"Ilustratia persoanei de contact a studentului",src:O.default,effect:"blur",scrollPosition:s,className:"background-image",height:"100%"})})}),Object(f.jsxs)("div",{className:"kin-card-content",children:[Object(f.jsx)("span",{className:"content-label label",children:a.relation}),Object(f.jsxs)("p",{className:"content-title label",children:["Nume: ","".concat(a.first_name," ").concat(a.last_name)]}),Object(f.jsxs)("p",{className:"content-title label",children:["Telefon: ",a.phone_number]}),Object(f.jsx)(j.a,{type:"button",textLabel:"Actualizare"})]})]})})}));s(531);var N=Object(x.trackWindowScroll)((function(e){var a=e.handleClick,s=e.scrollPosition;return Object(f.jsx)("div",{className:"add-card",onClick:a,children:Object(f.jsxs)("div",{className:"add-card-content",children:[Object(f.jsx)("div",{className:"card-showcase-profile-image",children:Object(f.jsx)(x.LazyLoadImage,{alt:"Ilustratia persoanei de contact a studentului",src:O.default,effect:"blur",scrollPosition:s,className:"background-image",height:"100%"})}),Object(f.jsx)(j.a,{type:"button",textLabel:"Adauga contact"})]})})})),g=s(21),k=s.n(g),_=s(65),C=s(101),w=s(104),P=(s(532),s(336)),y=s(332),S=s(335),B=s(333),A=s(334);s(100),s(152),s(153);S.a.use([B.a,A.a]);var I=function(){var e=Object(h.b)(),a=Object(h.c)(w.p),s=Object(t.useState)(""),n=Object(l.a)(s,2),c=n[0],r=n[1],m=Object(t.useState)(null),p=Object(l.a)(m,2),O=(p[0],p[1]),x=Object(t.useState)(1),g=Object(l.a)(x,2),S=(g[0],g[1]),B=Object(t.useState)({prevButton:!1,nextButton:!1}),A=Object(l.a)(B,2),I=A[0],F=A[1],L=Object(t.useRef)(null),T=Object(t.useRef)(null),V=Object(t.useRef)(null),z=Object(t.useRef)(null);Object(t.useEffect)((function(){e(Object(w.m)()),k.a.get("/api/v1/users/kins",{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",withCredentials:!0,credentials:"include"}}).then((function(a){if(200===a.status||201===a.status){var s=a.data.kins;e(Object(w.h)(s))}else r("Pentru a continua procesul de inrolarea, va rugam sa introduceti cel putin o persoana de contact")})).catch((function(a){e(Object(w.d)("Pentru a continua procesul de inrolarea, va rugam sa introduceti cel putin o persoana de contact")),r("Pentru a continua procesul de inrolarea, va rugam sa introduceti cel putin o persoana de contact")}))}),[e]);var E=Object(_.a)({initialValues:{first_name:"",last_name:"",email:"",relation:"",adress:"",phone_number:""},validateOnBlur:!0,onSubmit:function(e,a){var s=a.resetForm;window.scrollTo(0,z.current.offsetTop);k.a.post("/api/v1/users/kins",e,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",withCredentials:!0,credentials:"include"}}).then((function(e){200===e.status||201===e.status?(console.log("Kin created!"),s(),r(""),window.location.reload()):r("There is an error, please try again")})).catch((function(e){var a=e.response.data.errors?e.response.data.errors[0].msg:e.response.data.message;r(a)}))},validationSchema:C.a});return Object(f.jsx)("section",{className:"dashboard-kins",children:Object(f.jsxs)("div",{className:"dashboard-kins-inner",children:[Object(f.jsx)(i.a,{}),Object(f.jsxs)(P.a,{slidesPerView:1,navigation:{prevEl:L.current,nextEl:T.current},breakpoints:{1500:{slidesPerView:3},1366:{slidesPerView:2.5},1150:{slidesPerView:2},767:{slidesPerView:1.5},650:{slidesPerView:1}},spaceBetween:40,grabCursor:!0,resistance:!0,resistanceRatio:.5,speed:1e3,onInit:function(){O(a.userKins.length),S(1)},onSlideChange:function(e){S(e.activeIndex+1),0===e.activeIndex?F({prevButton:!0,nextButton:!1}):e.activeIndex>=a.userKins.length-1?F({prevButton:!1,nextButton:!0}):F({prevButton:!1,nextButton:!1})},className:"student-kins-slider",children:[Object(f.jsx)(y.a,{children:Object(f.jsx)(N,{handleClick:function(){V.current.focus()}})}),a.userKins.map((function(e,a){return Object(f.jsx)(y.a,{children:Object(f.jsx)(v,{cardData:e})},"kin-".concat(a))})),Object(f.jsx)("button",{disabled:I.prevButton,className:"showcase-prev-button",ref:L,children:Object(f.jsx)(d.b.Provider,{value:{color:"#fafafa",size:"34px"},children:Object(f.jsx)(u.a,{})})}),Object(f.jsx)("button",{disabled:I.nextButton,className:"showcase-next-button",ref:T,children:Object(f.jsx)(d.b.Provider,{value:{color:"#fafafa",size:"34px"},children:Object(f.jsx)(u.b,{})})})]}),Object(f.jsxs)("div",{className:"dashboard-form-block",children:[Object(f.jsxs)("div",{className:"dashboard-form-block-heading-wrapper",ref:z,children:[Object(f.jsx)("h3",{className:"dashboard-form-title heading-three",children:"Adauga o persoana de contact"}),c?Object(f.jsx)(b.a,{children:c}):null]}),Object(f.jsxs)("form",{className:"dashboard-kins-form",method:"POST",onSubmit:E.handleSubmit,children:[Object(f.jsxs)("div",{className:"form-block",children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"firstName",className:"form-group-label label",children:"Prenumele persoanei de contact.*"}),Object(f.jsx)("input",{type:"text",id:"firstName",className:"form-group-input",name:"first_name",value:E.values.first_name,onChange:E.handleChange,ref:V}),E.errors.first_name&&Object(f.jsx)(o.a,{children:E.errors.first_name})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"lastName",className:"form-group-label label",children:"Numele persoanei de contact.*"}),Object(f.jsx)("input",{type:"text",id:"lastName",className:"form-group-input",name:"last_name",value:E.values.last_name,onChange:E.handleChange}),E.errors.last_name&&Object(f.jsx)(o.a,{children:E.errors.last_name})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"email",className:"form-group-label label",children:"Email-ul persoanei de contact.*"}),Object(f.jsx)("input",{type:"email",id:"email",className:"form-group-input",name:"email",value:E.values.email,onChange:E.handleChange}),E.errors.email&&Object(f.jsx)(o.a,{children:E.errors.email})]})]}),Object(f.jsxs)("div",{className:"form-block",children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"relation",className:"form-group-label label",children:"Tipul relatiei.*"}),Object(f.jsx)("input",{type:"text",id:"relation",className:"form-group-input",name:"relation",value:E.values.relation,onChange:E.handleChange}),E.errors.relation&&Object(f.jsx)(o.a,{children:E.errors.relation})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"adress",className:"form-group-label label",children:"Adresa persoanei de contact.*"}),Object(f.jsx)("input",{type:"text",id:"adress",className:"form-group-input",name:"adress",value:E.values.adress,onChange:E.handleChange}),E.errors.adress&&Object(f.jsx)(o.a,{children:E.errors.adress})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"phone_number",className:"form-group-label label",children:"Numarul de telefon.*"}),Object(f.jsx)("input",{type:"text",id:"phone_number",className:"form-group-input",name:"phone_number",value:E.values.phone_number,onChange:E.handleChange}),E.errors.phone_number&&Object(f.jsx)(o.a,{children:E.errors.phone_number})]})]}),Object(f.jsx)(j.a,{type:"submit",textLabel:"Adauga pesoana de contact"})]})]})]})})},F=s(96),L=s(97),T={isLink:null,subtitle:"Persoane de contact"};a.default=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(n.a,{}),Object(f.jsx)(c.a,{}),Object(f.jsxs)("main",{className:"page-content",children:[Object(f.jsx)(r.a,{sectionData:T}),Object(f.jsx)(I,{}),Object(f.jsx)(F.a,{})]}),Object(f.jsx)(L.a,{})]})}}}]);
//# sourceMappingURL=20.c031c555.chunk.js.map